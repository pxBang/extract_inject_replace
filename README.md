# 文本处理工具集

本项目提供一组文本处理工具，用于从文件中提取文本、替换文本以及将文本重新注入文件，特别适用于本地化和翻译工作流程中的文件处理。

## ⚠️ 重要注意事项

请在开始之前仔细阅读以下注意事项：

1. **文件编码**：所有的脚本文件都以**UTF-8编码格式**读写，请保证你的脚本文件为UTF-8编码格式。
2. **编码转换工具**：一键改变文本的编码格式为UTF-8的工具，我推荐使用 **EmEditor**。
3. **配置文件**：确保所有路径和文件名在`config.ini`中正确配置，并且文件的编码格式与程序设置一致。

## 功能描述

- **文本提取**：从指定目录的文件中提取符合正则表达式的文本，并保存到新的文件中。
- **文本替换**：根据给定的字符映射字典，替换文件中的特定文本。
- **文本注入**：将处理后的文本重新注入到原始文件中，保证文本的位置和格式不变。

## 使用场景

- **游戏本地化**：在游戏翻译和本地化过程中，提取游戏脚本中的文本，进行翻译后再将其注入回游戏文件。
- **文档翻译**：批量处理文档中的特定语言文本，实现快速翻译和替换。
- **数据迁移**：在软件迁移或数据转换过程中，提取和替换数据文件中的文本。

## 环境要求

- Python 3.6+
- 需要`configparser`模块来读取配置文件。

## 快速开始

1. **准备配置文件**：在项目根目录下创建`config.ini`，根据需要配置以下参数：

    ```ini
    [paths]
    source_folder_extract = script-jp
    target_folder_extract = txt-jp
    source_folder_replace = txt-cn
    target_folder_replace = txt-cn-replaced
    source_folder_inject = script-jp
    target_folder_inject = script-cn
    texts_folder = texts_cn_folder
    dictionary_file = dic.txt

    [settings]
    regex_pattern = "(.*?)"
    ```

2. **运行提取程序**：

    ```bash
    python extract.py
    ```

    这将从`source_folder_extract`中的文件提取文本，并将结果保存到`target_folder_extract`。

3. **运行替换程序**：

    ```bash
    python replace.py
    ```

    这将根据`dictionary_file`中的映射关系替换`source_folder_replace`中的文本，并保存到`target_folder_replace`。

4. **运行注入程序**：

    ```bash
    python inject.py
    ```

    这将把`texts_folder`中的文本注入到`source_folder_inject`对应的原始文件中，并保存到`target_folder_inject`。

## 贡献指南

感兴趣的开发者可以通过提交PR来提供新功能或改进现有功能。请确保您的代码清晰并有适当的注释。

## 许可证

此项目采用MIT许可证。详情请查阅LICENSE文件。

## 人类发言

QAQ，之前的内容都是gpt4生成的，作为人类，我讲两句

>如果不能保证纯粹的通用，我就保证通用的纯粹，这是我的设计理念

1. 为了在保留提取、注入、替换核心功能的同时，减少因为编码格式导致各种千奇百怪的错误。我将原始脚本的编码格式设置为UTF-8，且没有留下更改编码格式的接口。因为我知道，只要你更改了原始脚本的编码格式，你会不断的发现各种错误，且觉得我这个软件不好用。因为我使用过其他人的此类软件，正是因为bug的存在，导致我很崩溃，最后发现与其去找作者的问题，不如自己写一个。这类作者还很高冷。。。所以人类是靠不住的，gpt是靠得住的。这是我的经验QAQ
2. 关于正则提取规则，正则提取本身是十分优秀的工具，但有些人使用它的方法和集成的方法我并不满意，集成了各种各样复杂的功能，且软件没有使用说明，说是不面向新手，我觉得是偷懒的借口。说明软件的功能、使用场景、使用方法，这是一个优秀的软件应该具备的文档。而且现在有gpt，为什么不用他写呢？连大厂都知道，降低软件使用门槛是提高软件使用率的重要措施之一。总之，我受到了开源的恩惠，我也想为开源付出一点人力成本，让其他人能够在碰到此类问题时，不需要付出额外的人力，而是方便地踩在他人的肩膀上往上爬的高一点。QAQ一下子说的好多。回归正题，正则提取规则，我是用来提取文本内容，最后将翻译好的文本内容放回去，这是该软件的基本功能，我看到有些作者加了很多额外的功能，我暂时用不到，就没加。我也尝试过使用一个正则规则同时提取name和text，我认为会产生很多不必要的麻烦。所以`如果不能保证纯粹的通用，我就保证通用的纯粹`。如果你想提取文本，那就用文本的正则提取规则，然后走一遍流程。如果你想提取名字，你就用名字的正则提取规则，然后走一遍流程。`将多样性的选择，交给用户，其实是我的设计理念的人话版本QAQ`

好了，讲了这么多，如果有用户觉得我这个软件不好用，相比于提pr，我更倾向于自己用gpt写一个程序，来满足自己的功能。或许，我认为的`通用的纯粹`在你的使用场景下仍然`不能保证纯粹的通用`。谁知道呢，世界这么多可能性，我哪能面面俱到呢！
